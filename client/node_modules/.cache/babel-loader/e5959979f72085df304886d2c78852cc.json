{"ast":null,"code":"import _regeneratorRuntime from\"/home/mnz/Desktop/Work/js/playlist/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/mnz/Desktop/Work/js/playlist/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var clientID=\"***REMOVED***\";var accessToken=\"***REMOVED***\";export function popularGames(){return _popularGames.apply(this,arguments);}function _popularGames(){_popularGames=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"http://localhost:3000/popularGames\",{method:\"POST\",headers:new Headers({Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(accessToken),\"Client-ID\":clientID,\"Access-Control-Allow-Origin\":\"*\"})});case 3:response=_context.sent;_context.next=6;return response.json();case 6:result=_context.sent;console.log(result);return _context.abrupt(\"return\",result);case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.log(_context.t0);return _context.abrupt(\"return\",\"error\");case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return _popularGames.apply(this,arguments);}export function searchGames(_x){return _searchGames.apply(this,arguments);}function _searchGames(){_searchGames=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(query){var response,result;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;if(query){_context2.next=3;break;}return _context2.abrupt(\"return\");case 3:_context2.next=5;return fetch(\"http://localhost:3000/findGames\",{method:\"POST\",headers:new Headers({Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(accessToken),\"Client-ID\":clientID,\"Access-Control-Allow-Origin\":\"*\"}),body:JSON.stringify({query:query})});case 5:response=_context2.sent;_context2.next=8;return response.json();case 8:result=_context2.sent;console.log(result);return _context2.abrupt(\"return\",result);case 13:_context2.prev=13;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);return _context2.abrupt(\"return\",\"error\");case 17:case\"end\":return _context2.stop();}}},_callee2,null,[[0,13]]);}));return _searchGames.apply(this,arguments);}export function getTop(){return _getTop.apply(this,arguments);}function _getTop(){_getTop=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var response,result;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return fetch(\"http://localhost:3000/getTop\",{method:\"POST\",headers:new Headers({Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(accessToken),\"Client-ID\":clientID,\"Access-Control-Allow-Origin\":\"*\"})});case 3:response=_context3.sent;_context3.next=6;return response.json();case 6:result=_context3.sent;console.log(result);return _context3.abrupt(\"return\",result);case 11:_context3.prev=11;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);return _context3.abrupt(\"return\",\"error\");case 15:case\"end\":return _context3.stop();}}},_callee3,null,[[0,11]]);}));return _getTop.apply(this,arguments);}export function getUpcoming(){return _getUpcoming.apply(this,arguments);}function _getUpcoming(){_getUpcoming=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){var response,result;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return fetch(\"http://localhost:3000/getUpcoming\",{method:\"POST\",headers:new Headers({Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(accessToken),\"Client-ID\":clientID,\"Access-Control-Allow-Origin\":\"*\"})});case 3:response=_context4.sent;_context4.next=6;return response.json();case 6:result=_context4.sent;console.log(result);return _context4.abrupt(\"return\",result);case 11:_context4.prev=11;_context4.t0=_context4[\"catch\"](0);console.log(_context4.t0);return _context4.abrupt(\"return\",\"error\");case 15:case\"end\":return _context4.stop();}}},_callee4,null,[[0,11]]);}));return _getUpcoming.apply(this,arguments);}export function gameDetails(_x2){return _gameDetails.apply(this,arguments);}function _gameDetails(){_gameDetails=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(id){var response,result;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return fetch(\"http://localhost:3000/gameDetails\",{method:\"POST\",headers:new Headers({Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(accessToken),\"Client-ID\":clientID,\"Access-Control-Allow-Origin\":\"*\"}),body:JSON.stringify({id:id})});case 3:response=_context5.sent;_context5.next=6;return response.json();case 6:result=_context5.sent;// result.cover = await getCover(result.id);\n// let promises = result.artworks.map(async (id) => await getArtwork(id));\n// result.artworks = await Promise.all(promises);\nconsole.log(result);return _context5.abrupt(\"return\",result);case 11:_context5.prev=11;_context5.t0=_context5[\"catch\"](0);console.log(_context5.t0);return _context5.abrupt(\"return\",\"error\");case 15:case\"end\":return _context5.stop();}}},_callee5,null,[[0,11]]);}));return _gameDetails.apply(this,arguments);}export function getCover(_x3){return _getCover.apply(this,arguments);}function _getCover(){_getCover=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(id){var response,result,url,hash;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return fetch(\"http://localhost:3000/getCover\",{method:\"POST\",headers:new Headers({Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(accessToken),\"Client-ID\":clientID,\"Access-Control-Allow-Origin\":\"*\"}),body:JSON.stringify({id:id})});case 3:response=_context6.sent;_context6.next=6;return response.json();case 6:result=_context6.sent;if(!(!result||!result.length)){_context6.next=9;break;}return _context6.abrupt(\"return\",\"nocover.png\");case 9:url=result.at(0).url;hash=url.split(\"/\").pop();// console.log(hash);\nreturn _context6.abrupt(\"return\",hash);case 14:_context6.prev=14;_context6.t0=_context6[\"catch\"](0);console.log(_context6.t0);return _context6.abrupt(\"return\",\"error\");case 18:case\"end\":return _context6.stop();}}},_callee6,null,[[0,14]]);}));return _getCover.apply(this,arguments);}export function getArtwork(_x4){return _getArtwork.apply(this,arguments);}function _getArtwork(){_getArtwork=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(id){var response,result,url,hash;return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;_context7.next=3;return fetch(\"http://localhost:3000/getArtwork\",{method:\"POST\",headers:new Headers({Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(accessToken),\"Client-ID\":clientID,\"Access-Control-Allow-Origin\":\"*\"}),body:JSON.stringify({id:id})});case 3:response=_context7.sent;_context7.next=6;return response.json();case 6:result=_context7.sent;if(!(!result||!result.length)){_context7.next=9;break;}return _context7.abrupt(\"return\",\"nocover.png\");case 9:url=result.at(0).url;hash=url.split(\"/\").pop();// console.log(hash);\nreturn _context7.abrupt(\"return\",hash);case 14:_context7.prev=14;_context7.t0=_context7[\"catch\"](0);console.log(_context7.t0);return _context7.abrupt(\"return\",\"error\");case 18:case\"end\":return _context7.stop();}}},_callee7,null,[[0,14]]);}));return _getArtwork.apply(this,arguments);}","map":{"version":3,"names":["clientID","accessToken","popularGames","fetch","method","headers","Headers","Accept","Authorization","response","json","result","console","log","searchGames","query","body","JSON","stringify","getTop","getUpcoming","gameDetails","id","getCover","length","url","at","hash","split","pop","getArtwork"],"sources":["/home/mnz/Desktop/Work/js/playlist/client/src/Controllers/igdb.js"],"sourcesContent":["const clientID = \"***REMOVED***\";\nconst accessToken = \"***REMOVED***\";\n\nexport async function popularGames() {\n  try {\n    const response = await fetch(\"http://localhost:3000/popularGames\", {\n      method: \"POST\",\n      headers: new Headers({\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${accessToken}`,\n        \"Client-ID\": clientID,\n        \"Access-Control-Allow-Origin\": \"*\",\n      }),\n    });\n    const result = await response.json();\n    console.log(result);\n    return result;\n  } catch (e) {\n    console.log(e);\n    return \"error\";\n  }\n}\n\nexport async function searchGames(query) {\n  try {\n    if (!query) return;\n    const response = await fetch(\"http://localhost:3000/findGames\", {\n      method: \"POST\",\n      headers: new Headers({\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${accessToken}`,\n        \"Client-ID\": clientID,\n        \"Access-Control-Allow-Origin\": \"*\",\n      }),\n      body: JSON.stringify({\n        query,\n      }),\n    });\n    const result = await response.json();\n    console.log(result);\n    return result;\n  } catch (e) {\n    console.log(e);\n    return \"error\";\n  }\n}\n\nexport async function getTop() {\n  try {\n    const response = await fetch(\"http://localhost:3000/getTop\", {\n      method: \"POST\",\n      headers: new Headers({\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${accessToken}`,\n        \"Client-ID\": clientID,\n        \"Access-Control-Allow-Origin\": \"*\",\n      }),\n    });\n    const result = await response.json();\n    console.log(result);\n    return result;\n  } catch (e) {\n    console.log(e);\n    return \"error\";\n  }\n}\n\nexport async function getUpcoming() {\n  try {\n    const response = await fetch(\"http://localhost:3000/getUpcoming\", {\n      method: \"POST\",\n      headers: new Headers({\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${accessToken}`,\n        \"Client-ID\": clientID,\n        \"Access-Control-Allow-Origin\": \"*\",\n      }),\n    });\n    const result = await response.json();\n    console.log(result);\n    return result;\n  } catch (e) {\n    console.log(e);\n    return \"error\";\n  }\n}\n\nexport async function gameDetails(id) {\n  try {\n    const response = await fetch(\"http://localhost:3000/gameDetails\", {\n      method: \"POST\",\n      headers: new Headers({\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${accessToken}`,\n        \"Client-ID\": clientID,\n        \"Access-Control-Allow-Origin\": \"*\",\n      }),\n      body: JSON.stringify({\n        id,\n      }),\n    });\n    const result = await response.json();\n    // result.cover = await getCover(result.id);\n    // let promises = result.artworks.map(async (id) => await getArtwork(id));\n    // result.artworks = await Promise.all(promises);\n    console.log(result);\n    return result;\n  } catch (e) {\n    console.log(e);\n    return \"error\";\n  }\n}\n\nexport async function getCover(id) {\n  try {\n    // console.log(id);\n    const response = await fetch(\"http://localhost:3000/getCover\", {\n      method: \"POST\",\n      headers: new Headers({\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${accessToken}`,\n        \"Client-ID\": clientID,\n        \"Access-Control-Allow-Origin\": \"*\",\n      }),\n      body: JSON.stringify({\n        id,\n      }),\n    });\n    const result = await response.json();\n    // console.log(id, result);\n    if (!result || !result.length) return \"nocover.png\";\n    const url = result.at(0).url;\n    const hash = url.split(\"/\").pop();\n    // console.log(hash);\n    return hash;\n  } catch (e) {\n    console.log(e);\n    return \"error\";\n  }\n}\n\nexport async function getArtwork(id) {\n  try {\n    // console.log(id);\n    const response = await fetch(\"http://localhost:3000/getArtwork\", {\n      method: \"POST\",\n      headers: new Headers({\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${accessToken}`,\n        \"Client-ID\": clientID,\n        \"Access-Control-Allow-Origin\": \"*\",\n      }),\n      body: JSON.stringify({\n        id,\n      }),\n    });\n    const result = await response.json();\n    // console.log(id, result);\n    if (!result || !result.length) return \"nocover.png\";\n    const url = result.at(0).url;\n    const hash = url.split(\"/\").pop();\n    // console.log(hash);\n    return hash;\n  } catch (e) {\n    console.log(e);\n    return \"error\";\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}