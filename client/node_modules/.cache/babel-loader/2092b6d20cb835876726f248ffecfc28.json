{"ast":null,"code":"import _regeneratorRuntime from\"/home/mnz/Desktop/Work/js/playlist/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/mnz/Desktop/Work/js/playlist/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var url=\"http://localhost:3000\";export function popularGames(){return _popularGames.apply(this,arguments);}function _popularGames(){_popularGames=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"\".concat(url,\"/popularGames\"),{method:\"POST\",headers:new Headers({Accept:\"application/json\",\"Content-Type\":\"application/json\",\"Access-Control-Allow-Origin\":\"*\"})});case 3:response=_context.sent;_context.next=6;return response.json();case 6:result=_context.sent;console.log(result);return _context.abrupt(\"return\",result);case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.log(_context.t0);return _context.abrupt(\"return\",\"error\");case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return _popularGames.apply(this,arguments);}export function searchGames(_x){return _searchGames.apply(this,arguments);}function _searchGames(){_searchGames=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(query){var response,result;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;if(query){_context2.next=3;break;}return _context2.abrupt(\"return\");case 3:_context2.next=5;return fetch(\"\".concat(url,\"/findGames\"),{method:\"POST\",headers:new Headers({Accept:\"application/json\",\"Content-Type\":\"application/json\",\"Access-Control-Allow-Origin\":\"*\"}),body:JSON.stringify({query:query})});case 5:response=_context2.sent;_context2.next=8;return response.json();case 8:result=_context2.sent;console.log(result);return _context2.abrupt(\"return\",result);case 13:_context2.prev=13;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);return _context2.abrupt(\"return\",\"error\");case 17:case\"end\":return _context2.stop();}}},_callee2,null,[[0,13]]);}));return _searchGames.apply(this,arguments);}export function getTop(){return _getTop.apply(this,arguments);}function _getTop(){_getTop=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var response,result;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return fetch(\"\".concat(url,\"/popularGames/getTop\"),{method:\"POST\",headers:new Headers({Accept:\"application/json\",\"Content-Type\":\"application/json\",\"Access-Control-Allow-Origin\":\"*\"})});case 3:response=_context3.sent;_context3.next=6;return response.json();case 6:result=_context3.sent;console.log(result);return _context3.abrupt(\"return\",result);case 11:_context3.prev=11;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);return _context3.abrupt(\"return\",\"error\");case 15:case\"end\":return _context3.stop();}}},_callee3,null,[[0,11]]);}));return _getTop.apply(this,arguments);}export function getUpcoming(){return _getUpcoming.apply(this,arguments);}function _getUpcoming(){_getUpcoming=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){var response,result;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return fetch(\"\".concat(url,\"/getUpcoming\"),{method:\"POST\",headers:new Headers({Accept:\"application/json\",\"Content-Type\":\"application/json\",\"Access-Control-Allow-Origin\":\"*\"})});case 3:response=_context4.sent;_context4.next=6;return response.json();case 6:result=_context4.sent;console.log(result);return _context4.abrupt(\"return\",result);case 11:_context4.prev=11;_context4.t0=_context4[\"catch\"](0);console.log(_context4.t0);return _context4.abrupt(\"return\",\"error\");case 15:case\"end\":return _context4.stop();}}},_callee4,null,[[0,11]]);}));return _getUpcoming.apply(this,arguments);}export function gameDetails(_x2){return _gameDetails.apply(this,arguments);}function _gameDetails(){_gameDetails=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(id){var response,result;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return fetch(\"\".concat(url,\"/gameDetails\"),{method:\"POST\",headers:new Headers({Accept:\"application/json\",\"Content-Type\":\"application/json\",\"Access-Control-Allow-Origin\":\"*\"}),body:JSON.stringify({id:id})});case 3:response=_context5.sent;_context5.next=6;return response.json();case 6:result=_context5.sent;// result.cover = await getCover(result.id);\n// let promises = result.artworks.map(async (id) => await getArtwork(id));\n// result.artworks = await Promise.all(promises);\nconsole.log(result);return _context5.abrupt(\"return\",result);case 11:_context5.prev=11;_context5.t0=_context5[\"catch\"](0);console.log(_context5.t0);return _context5.abrupt(\"return\",\"error\");case 15:case\"end\":return _context5.stop();}}},_callee5,null,[[0,11]]);}));return _gameDetails.apply(this,arguments);}export function getCover(_x3){return _getCover.apply(this,arguments);}function _getCover(){_getCover=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(id){var response,result,_url,hash;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return fetch(\"\".concat(_url,\"/getCover\"),{method:\"POST\",headers:new Headers({Accept:\"application/json\",\"Content-Type\":\"application/json\",\"Access-Control-Allow-Origin\":\"*\"}),body:JSON.stringify({id:id})});case 3:response=_context6.sent;_context6.next=6;return response.json();case 6:result=_context6.sent;if(!(!result||!result.length)){_context6.next=9;break;}return _context6.abrupt(\"return\",\"nocover.png\");case 9:_url=result.at(0).url;hash=_url.split(\"/\").pop();// console.log(hash);\nreturn _context6.abrupt(\"return\",hash);case 14:_context6.prev=14;_context6.t0=_context6[\"catch\"](0);console.log(_context6.t0);return _context6.abrupt(\"return\",\"error\");case 18:case\"end\":return _context6.stop();}}},_callee6,null,[[0,14]]);}));return _getCover.apply(this,arguments);}export function getArtwork(_x4){return _getArtwork.apply(this,arguments);}function _getArtwork(){_getArtwork=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(id){var response,result,_url2,hash;return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;_context7.next=3;return fetch(\"\".concat(_url2,\"/getArtwork\"),{method:\"POST\",headers:new Headers({Accept:\"application/json\",\"Content-Type\":\"application/json\",\"Access-Control-Allow-Origin\":\"*\"}),body:JSON.stringify({id:id})});case 3:response=_context7.sent;_context7.next=6;return response.json();case 6:result=_context7.sent;if(!(!result||!result.length)){_context7.next=9;break;}return _context7.abrupt(\"return\",\"nocover.png\");case 9:_url2=result.at(0).url;hash=_url2.split(\"/\").pop();// console.log(hash);\nreturn _context7.abrupt(\"return\",hash);case 14:_context7.prev=14;_context7.t0=_context7[\"catch\"](0);console.log(_context7.t0);return _context7.abrupt(\"return\",\"error\");case 18:case\"end\":return _context7.stop();}}},_callee7,null,[[0,14]]);}));return _getArtwork.apply(this,arguments);}","map":{"version":3,"names":["url","popularGames","fetch","method","headers","Headers","Accept","response","json","result","console","log","searchGames","query","body","JSON","stringify","getTop","getUpcoming","gameDetails","id","getCover","length","at","hash","split","pop","getArtwork"],"sources":["/home/mnz/Desktop/Work/js/playlist/client/src/Controllers/igdb.js"],"sourcesContent":["const url = \"http://localhost:3000\";\nexport async function popularGames() {\n  try {\n    const response = await fetch(`${url}/popularGames`, {\n      method: \"POST\",\n      headers: new Headers({\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\",\n      }),\n    });\n    const result = await response.json();\n    console.log(result);\n    return result;\n  } catch (e) {\n    console.log(e);\n    return \"error\";\n  }\n}\n\nexport async function searchGames(query) {\n  try {\n    if (!query) return;\n    const response = await fetch(`${url}/findGames`, {\n      method: \"POST\",\n      headers: new Headers({\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\",\n      }),\n      body: JSON.stringify({\n        query,\n      }),\n    });\n    const result = await response.json();\n    console.log(result);\n    return result;\n  } catch (e) {\n    console.log(e);\n    return \"error\";\n  }\n}\n\nexport async function getTop() {\n  try {\n    const response = await fetch(`${url}/popularGames/getTop`, {\n      method: \"POST\",\n      headers: new Headers({\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\",\n      }),\n    });\n    const result = await response.json();\n    console.log(result);\n    return result;\n  } catch (e) {\n    console.log(e);\n    return \"error\";\n  }\n}\n\nexport async function getUpcoming() {\n  try {\n    const response = await fetch(`${url}/getUpcoming`, {\n      method: \"POST\",\n      headers: new Headers({\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\",\n      }),\n    });\n    const result = await response.json();\n    console.log(result);\n    return result;\n  } catch (e) {\n    console.log(e);\n    return \"error\";\n  }\n}\n\nexport async function gameDetails(id) {\n  try {\n    const response = await fetch(`${url}/gameDetails`, {\n      method: \"POST\",\n      headers: new Headers({\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\",\n      }),\n      body: JSON.stringify({\n        id,\n      }),\n    });\n    const result = await response.json();\n    // result.cover = await getCover(result.id);\n    // let promises = result.artworks.map(async (id) => await getArtwork(id));\n    // result.artworks = await Promise.all(promises);\n    console.log(result);\n    return result;\n  } catch (e) {\n    console.log(e);\n    return \"error\";\n  }\n}\n\nexport async function getCover(id) {\n  try {\n    // console.log(id);\n    const response = await fetch(`${url}/getCover`, {\n      method: \"POST\",\n      headers: new Headers({\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\",\n      }),\n      body: JSON.stringify({\n        id,\n      }),\n    });\n    const result = await response.json();\n    // console.log(id, result);\n    if (!result || !result.length) return \"nocover.png\";\n    const url = result.at(0).url;\n    const hash = url.split(\"/\").pop();\n    // console.log(hash);\n    return hash;\n  } catch (e) {\n    console.log(e);\n    return \"error\";\n  }\n}\n\nexport async function getArtwork(id) {\n  try {\n    // console.log(id);\n    const response = await fetch(`${url}/getArtwork`, {\n      method: \"POST\",\n      headers: new Headers({\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\",\n      }),\n      body: JSON.stringify({\n        id,\n      }),\n    });\n    const result = await response.json();\n    // console.log(id, result);\n    if (!result || !result.length) return \"nocover.png\";\n    const url = result.at(0).url;\n    const hash = url.split(\"/\").pop();\n    // console.log(hash);\n    return hash;\n  } catch (e) {\n    console.log(e);\n    return \"error\";\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}